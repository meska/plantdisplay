# Configurazione LVGL per PlantDisplay
# Contiene tutta l'interfaccia grafica

# Plant images
image:
    - file: "assets/Anthurium.jpg"
      id: anthurium_img
      resize: 120x120
      type: RGB565
    - file: "assets/Alstroemeria.jpg"
      id: alstroemeria_img
      resize: 120x120
      type: RGB565
    - file: "assets/Ggraptosedum.jpg"
      id: graptosedum_img
      resize: 120x120
      type: RGB565
    - file: "assets/Cactus.jpg"
      id: cactus_img
      resize: 120x120
      type: RGB565

# Font necessari per LVGL con caratteri speciali (font locali)
font:
    - file: "fonts/Montserrat-Regular.ttf"
      id: montserrat_10
      size: 10
      glyphs: "!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ àáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝÞß°µ€"

    - file: "fonts/Montserrat-Regular.ttf"
      id: montserrat_12
      size: 12
      glyphs: "!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ àáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝÞß°µ€"

    - file: "fonts/Montserrat-Regular.ttf"
      id: montserrat_14
      size: 14
      glyphs: "!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ àáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝÞß°µ€"

    - file: "fonts/Montserrat-Medium.ttf"
      id: montserrat_16
      size: 16
      glyphs: "!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ àáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝÞß°µ€"

    - file: "fonts/Montserrat-Medium.ttf"
      id: montserrat_20
      size: 20
      glyphs: "!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ àáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝÞß°µ€"

    - file: "fonts/Montserrat-Bold.ttf"
      id: montserrat_32
      size: 32
      glyphs: "!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ àáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝÞß°µ€"

    # Material Design Icons per interfaccia (font locali)
    - file: "fonts/materialdesignicons-webfont.ttf"
      id: material_icons_16
      size: 16
      glyphs:
          - "\U000F0737" # mdi-arrow-up-bold
          - "\U000F072E" # mdi-arrow-down-bold
          - "\U000F0E1E" # mdi-check-bold

# Configurazione principale LVGL
lvgl:
    displays:
        - waveshare_display
    touchscreens:
        - waveshare_touch
    log_level: DEBUG
    color_depth: 16
    buffer_size: 100%

    on_idle:
        timeout: 30s
        then:
            - logger.log: "LVGL is idle"

    pages:
        # Main page with tabview
        - id: main_page
          widgets:
              - tabview:
                    id: main_tabview
                    position: top
                    size: 12%
                    tabs:
                        # Tab 1: Piante
                        - name: Piante
                          id: plants_tab
                          widgets:
                              - obj:
                                    id: plants_container
                                    width: 100%
                                    height: 100%
                                    align: CENTER
                                    pad_all: 2
                                    bg_opa: TRANSP
                                    border_opa: TRANSP
                                    layout:
                                        type: GRID # split the rows and the columns proportionally
                                        grid_columns: [FR(1), FR(1)]
                                        grid_rows: [FR(1), FR(1), FR(1)]
                                    widgets:
                                        # Plant cards using common structure
                                        # Plant 1 - Anthurium 1
                                        - !include {
                                              file: plant_card.yaml,
                                              vars:
                                                  {
                                                      plant_prefix: plant1,
                                                      name: "Anthurium 1",
                                                      row: 0,
                                                      col: 0,
                                                      image_src: anthurium_img,
                                                      image_bg_color: 0xFFE8E8,
                                                  },
                                          }
                                        - !include {
                                              file: plant_card.yaml,
                                              vars:
                                                  {
                                                      plant_prefix: plant2,
                                                      name: "Anthurium 2",
                                                      row: 0,
                                                      col: 1,
                                                      image_src: anthurium_img,
                                                      image_bg_color: 0xE8F0FF,
                                                  },
                                          }
                                        - !include {
                                              file: plant_card.yaml,
                                              vars:
                                                  {
                                                      plant_prefix: plant3,
                                                      name: "Alstroemeria",
                                                      row: 1,
                                                      col: 0,
                                                      image_src: alstroemeria_img,
                                                      image_bg_color: 0xFFF8E8,
                                                  },
                                          }
                                        - !include {
                                              file: plant_card.yaml,
                                              vars:
                                                  {
                                                      plant_prefix: plant4,
                                                      name: "Graptosedum",
                                                      row: 1,
                                                      col: 1,
                                                      image_src: graptosedum_img,
                                                      image_bg_color: 0xF0E8FF,
                                                  },
                                          }
                                        - !include {
                                              file: plant_card.yaml,
                                              vars:
                                                  {
                                                      plant_prefix: plant5,
                                                      name: "Cactus",
                                                      row: 2,
                                                      col: 0,
                                                      image_src: cactus_img,
                                                      image_bg_color: 0xE8FFE8,
                                                  },
                                          }

                        # Tab 2: Condizionatori
                        - name: Clima
                          id: climate_tab
                          widgets:
                              - obj:
                                    id: climate_container
                                    width: 100%
                                    height: 100%
                                    bg_color: 0xF5F5F5
                                    border_width: 0
                                    pad_all: 10
                                    layout:
                                        type: flex
                                        flex_flow: row_wrap
                                        pad_row: 10
                                        pad_column: 10
                                    widgets:
                                        # AC 1 - Soggiorno
                                        - obj:
                                              id: ac1_card
                                              width: 48%
                                              height: 45%
                                              bg_color: 0xFFFFFF
                                              border_width: 1
                                              border_color: 0xE0E0E0
                                              radius: 8
                                              pad_all: 8
                                              widgets:
                                                  - label:
                                                        text: "Soggiorno"
                                                        text_color: 0x1976D2
                                                        text_font: montserrat_16
                                                        align: center
                                                  - label:
                                                        id: ac1_temp_label
                                                        text: "Attuale: --°C"
                                                        text_color: 0x424242
                                                        text_font: montserrat_12
                                                        align: center
                                                        y: 25
                                                  - label:
                                                        id: ac1_target_label
                                                        text: "Target: --°C"
                                                        text_color: 0x666666
                                                        text_font: montserrat_10
                                                        align: center
                                                        y: 40
                                                  - obj:
                                                        id: ac1_controls
                                                        width: 100%
                                                        height: 40
                                                        y: 55
                                                        bg_color: 0xFFFFFF
                                                        border_width: 0
                                                        layout:
                                                            type: flex
                                                            flex_flow: row
                                                            flex_align_main: space_around
                                                        widgets:
                                                            - switch:
                                                                  id: ac1_switch
                                                                  on_value:
                                                                      then:
                                                                          - homeassistant.service:
                                                                                service: climate.set_hvac_mode
                                                                                data:
                                                                                    entity_id: climate.soggiorno
                                                                                    hvac_mode: !lambda |
                                                                                        return x ? "cool" : "off";
                                                            - button:
                                                                  id: ac1_temp_down
                                                                  width: 30
                                                                  height: 30
                                                                  widgets:
                                                                      - label:
                                                                            text: "-"
                                                                            text_font: montserrat_16
                                                                            align: center
                                                                  on_click:
                                                                      then:
                                                                          - homeassistant.service:
                                                                                service: climate.set_temperature
                                                                                data:
                                                                                    entity_id: climate.soggiorno
                                                                                    temperature: "22"
                                                            - button:
                                                                  id: ac1_temp_up
                                                                  width: 30
                                                                  height: 30
                                                                  widgets:
                                                                      - label:
                                                                            text: "+"
                                                                            text_font: montserrat_16
                                                                            align: center
                                                                  on_click:
                                                                      then:
                                                                          - homeassistant.service:
                                                                                service: climate.set_temperature
                                                                                data:
                                                                                    entity_id: climate.soggiorno
                                                                                    temperature: "24"

                                        # AC 2 - Camera
                                        - obj:
                                              id: ac2_card
                                              width: 48%
                                              height: 45%
                                              bg_color: 0xFFFFFF
                                              border_width: 1
                                              border_color: 0xE0E0E0
                                              radius: 8
                                              pad_all: 8
                                              widgets:
                                                  - label:
                                                        text: "Camera"
                                                        text_color: 0x1976D2
                                                        text_font: montserrat_16
                                                        align: center
                                                  - label:
                                                        id: ac2_temp_label
                                                        text: "Attuale: --°C"
                                                        text_color: 0x424242
                                                        text_font: montserrat_12
                                                        align: center
                                                        y: 25
                                                  - label:
                                                        id: ac2_target_label
                                                        text: "Target: --°C"
                                                        text_color: 0x666666
                                                        text_font: montserrat_10
                                                        align: center
                                                        y: 40
                                                  - obj:
                                                        id: ac2_controls
                                                        width: 100%
                                                        height: 40
                                                        y: 55
                                                        bg_color: 0xFFFFFF
                                                        border_width: 0
                                                        layout:
                                                            type: flex
                                                            flex_flow: row
                                                            flex_align_main: space_around
                                                        widgets:
                                                            - switch:
                                                                  id: ac2_switch
                                                                  on_value:
                                                                      then:
                                                                          - homeassistant.service:
                                                                                service: climate.set_hvac_mode
                                                                                data:
                                                                                    entity_id: climate.camera
                                                                                    hvac_mode: !lambda |
                                                                                        return x ? "cool" : "off";
                                                            - button:
                                                                  id: ac2_temp_down
                                                                  width: 30
                                                                  height: 30
                                                                  widgets:
                                                                      - label:
                                                                            text: "-"
                                                                            text_font: montserrat_16
                                                                            align: center
                                                                  on_click:
                                                                      then:
                                                                          - homeassistant.service:
                                                                                service: climate.set_temperature
                                                                                data:
                                                                                    entity_id: climate.camera
                                                                                    temperature: "22"
                                                            - button:
                                                                  id: ac2_temp_up
                                                                  width: 30
                                                                  height: 30
                                                                  widgets:
                                                                      - label:
                                                                            text: "+"
                                                                            text_font: montserrat_16
                                                                            align: center
                                                                  on_click:
                                                                      then:
                                                                          - homeassistant.service:
                                                                                service: climate.set_temperature
                                                                                data:
                                                                                    entity_id: climate.camera
                                                                                    temperature: "24"

                                        # AC 3 - Chris (era Cucina)
                                        - obj:
                                              id: ac3_card
                                              width: 48%
                                              height: 45%
                                              bg_color: 0xFFFFFF
                                              border_width: 1
                                              border_color: 0xE0E0E0
                                              radius: 8
                                              pad_all: 8
                                              widgets:
                                                  - label:
                                                        text: "Chris"
                                                        text_color: 0x1976D2
                                                        text_font: montserrat_16
                                                        align: center
                                                  - label:
                                                        id: ac3_temp_label
                                                        text: "Attuale: --°C"
                                                        text_color: 0x424242
                                                        text_font: montserrat_12
                                                        align: center
                                                        y: 25
                                                  - label:
                                                        id: ac3_target_label
                                                        text: "Target: --°C"
                                                        text_color: 0x666666
                                                        text_font: montserrat_10
                                                        align: center
                                                        y: 40
                                                  - obj:
                                                        id: ac3_controls
                                                        width: 100%
                                                        height: 40
                                                        y: 55
                                                        bg_color: 0xFFFFFF
                                                        border_width: 0
                                                        layout:
                                                            type: flex
                                                            flex_flow: row
                                                            flex_align_main: space_around
                                                        widgets:
                                                            - switch:
                                                                  id: ac3_switch
                                                                  on_value:
                                                                      then:
                                                                          - homeassistant.service:
                                                                                service: climate.set_hvac_mode
                                                                                data:
                                                                                    entity_id: climate.chris
                                                                                    hvac_mode: !lambda |
                                                                                        return x ? "cool" : "off";
                                                            - button:
                                                                  id: ac3_temp_down
                                                                  width: 30
                                                                  height: 30
                                                                  widgets:
                                                                      - label:
                                                                            text: "-"
                                                                            text_font: montserrat_16
                                                                            align: center
                                                                  on_click:
                                                                      then:
                                                                          - homeassistant.service:
                                                                                service: climate.set_temperature
                                                                                data:
                                                                                    entity_id: climate.chris
                                                                                    temperature: "22"
                                                            - button:
                                                                  id: ac3_temp_up
                                                                  width: 30
                                                                  height: 30
                                                                  widgets:
                                                                      - label:
                                                                            text: "+"
                                                                            text_font: montserrat_16
                                                                            align: center
                                                                  on_click:
                                                                      then:
                                                                          - homeassistant.service:
                                                                                service: climate.set_temperature
                                                                                data:
                                                                                    entity_id: climate.chris
                                                                                    temperature: "24"

                        # Tab 3: Interruttori
                        - name: Controlli
                          id: controls_tab
                          widgets:
                              - obj:
                                    id: controls_container
                                    width: 100%
                                    height: 100%
                                    bg_color: 0xF5F5F5
                                    border_width: 0
                                    pad_all: 10
                                    layout:
                                        type: flex
                                        flex_flow: row_wrap
                                        pad_row: 10
                                        pad_column: 10
                                    widgets:
                                        # Light control
                                        - obj:
                                              id: light_control
                                              width: 31%
                                              height: 45%
                                              bg_color: 0xFFFFFF
                                              border_width: 1
                                              border_color: 0xE0E0E0
                                              radius: 8
                                              pad_all: 10
                                              widgets:
                                                  - label:
                                                        text: "Luci"
                                                        text_color: 0xFF9800
                                                        text_font: montserrat_14
                                                        align: center
                                                  - switch:
                                                        id: main_lights
                                                        align: center
                                                        y: 40

                                        # Fan control
                                        - obj:
                                              id: fan_control
                                              width: 31%
                                              height: 45%
                                              bg_color: 0xFFFFFF
                                              border_width: 1
                                              border_color: 0xE0E0E0
                                              radius: 8
                                              pad_all: 10
                                              widgets:
                                                  - label:
                                                        text: "Ventola"
                                                        text_color: 0x2196F3
                                                        text_font: montserrat_14
                                                        align: center
                                                  - switch:
                                                        id: fan_switch
                                                        align: center
                                                        y: 40

                                        # Irrigation control
                                        - obj:
                                              id: irrigation_control
                                              width: 31%
                                              height: 45%
                                              bg_color: 0xFFFFFF
                                              border_width: 1
                                              border_color: 0xE0E0E0
                                              radius: 8
                                              pad_all: 10
                                              widgets:
                                                  - label:
                                                        text: "Irrigaz."
                                                        text_color: 0x4CAF50
                                                        text_font: montserrat_14
                                                        align: center
                                                  - switch:
                                                        id: irrigation_switch
                                                        align: center
                                                        y: 40

                                        # Security control
                                        - obj:
                                              id: security_control
                                              width: 31%
                                              height: 45%
                                              bg_color: 0xFFFFFF
                                              border_width: 1
                                              border_color: 0xE0E0E0
                                              radius: 8
                                              pad_all: 10
                                              widgets:
                                                  - label:
                                                        text: "Allarme"
                                                        text_color: 0xF44336
                                                        text_font: montserrat_14
                                                        align: center
                                                  - switch:
                                                        id: security_switch
                                                        align: center
                                                        y: 40

                                        # Music control
                                        - obj:
                                              id: music_control
                                              width: 31%
                                              height: 45%
                                              bg_color: 0xFFFFFF
                                              border_width: 1
                                              border_color: 0xE0E0E0
                                              radius: 8
                                              pad_all: 10
                                              widgets:
                                                  - label:
                                                        text: "Musica"
                                                        text_color: 0x9C27B0
                                                        text_font: montserrat_14
                                                        align: center
                                                  - switch:
                                                        id: music_switch
                                                        align: center
                                                        y: 40

                                        # Garage control
                                        - obj:
                                              id: garage_control
                                              width: 31%
                                              height: 45%
                                              bg_color: 0xFFFFFF
                                              border_width: 1
                                              border_color: 0xE0E0E0
                                              radius: 8
                                              pad_all: 10
                                              widgets:
                                                  - label:
                                                        text: "Garage"
                                                        text_color: 0x607D8B
                                                        text_font: montserrat_14
                                                        align: center
                                                  - button:
                                                        id: garage_button
                                                        width: 80
                                                        height: 30
                                                        align: center
                                                        y: 40
                                                        widgets:
                                                            - label:
                                                                  text: "Apri"
                                                                  align: center

                        # Tab 4: Meteo
                        - name: Meteo
                          id: weather_tab
                          widgets:
                              - obj:
                                    id: weather_container
                                    width: 100%
                                    height: 100%
                                    bg_color: 0xF5F5F5
                                    border_width: 0
                                    pad_all: 10
                                    widgets:
                                        # Current weather
                                        - obj:
                                              id: current_weather
                                              width: 100%
                                              height: 50%
                                              bg_color: 0xFFFFFF
                                              border_width: 1
                                              border_color: 0xE0E0E0
                                              radius: 8
                                              pad_all: 15
                                              widgets:
                                                  - label:
                                                        text: "Oggi"
                                                        text_color: 0x1976D2
                                                        text_font: montserrat_20
                                                        align: center
                                                  - label:
                                                        text: "Soleggiato"
                                                        text_color: 0x424242
                                                        text_font: montserrat_16
                                                        align: center
                                                        y: 40
                                                  - label:
                                                        text: "23°C"
                                                        text_color: 0xFF9800
                                                        text_font: montserrat_32
                                                        align: center
                                                        y: 80
                                                  - label:
                                                        text: "Umidità: 65% | Vento: 12 km/h"
                                                        text_color: 0x424242
                                                        text_font: montserrat_12
                                                        align: center
                                                        y: 140

                                        # Weather forecast
                                        - obj:
                                              id: weather_forecast
                                              width: 100%
                                              height: 50%
                                              y: 50%
                                              bg_color: 0xFFFFFF
                                              border_width: 1
                                              border_color: 0xE0E0E0
                                              radius: 8
                                              pad_all: 10
                                              layout:
                                                  type: flex
                                                  flex_flow: row
                                                  pad_column: 10
                                              widgets:
                                                  # Tomorrow
                                                  - obj:
                                                        flex_grow: 1
                                                        bg_color: 0xF8F9FA
                                                        border_width: 1
                                                        border_color: 0xE9ECEF
                                                        radius: 6
                                                        pad_all: 8
                                                        widgets:
                                                            - label:
                                                                  text: "Dom"
                                                                  text_color: 0x424242
                                                                  text_font: montserrat_12
                                                                  align: center
                                                            - label:
                                                                  text: "Nuvoloso"
                                                                  text_color: 0x757575
                                                                  text_font: montserrat_10
                                                                  align: center
                                                                  y: 25
                                                            - label:
                                                                  text: "20°C"
                                                                  text_color: 0x1976D2
                                                                  text_font: montserrat_16
                                                                  align: center
                                                                  y: 50

                                                  # Day after tomorrow
                                                  - obj:
                                                        flex_grow: 1
                                                        bg_color: 0xF8F9FA
                                                        border_width: 1
                                                        border_color: 0xE9ECEF
                                                        radius: 6
                                                        pad_all: 8
                                                        widgets:
                                                            - label:
                                                                  text: "Lun"
                                                                  text_color: 0x424242
                                                                  text_font: montserrat_12
                                                                  align: center
                                                            - label:
                                                                  text: "Pioggia"
                                                                  text_color: 0x757575
                                                                  text_font: montserrat_10
                                                                  align: center
                                                                  y: 25
                                                            - label:
                                                                  text: "18°C"
                                                                  text_color: 0x1976D2
                                                                  text_font: montserrat_16
                                                                  align: center
                                                                  y: 50

                                                  # Third day
                                                  - obj:
                                                        flex_grow: 1
                                                        bg_color: 0xF8F9FA
                                                        border_width: 1
                                                        border_color: 0xE9ECEF
                                                        radius: 6
                                                        pad_all: 8
                                                        widgets:
                                                            - label:
                                                                  text: "Mar"
                                                                  text_color: 0x424242
                                                                  text_font: montserrat_12
                                                                  align: center
                                                            - label:
                                                                  text: "Sole"
                                                                  text_color: 0x757575
                                                                  text_font: montserrat_10
                                                                  align: center
                                                                  y: 25
                                                            - label:
                                                                  text: "25°C"
                                                                  text_color: 0x1976D2
                                                                  text_font: montserrat_16
                                                                  align: center
                                                                  y: 50
